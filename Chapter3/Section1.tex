% !TEX root = ../main.tex

\section{The Chain Rule}
Suppose we have
\begin{equation*}
    f(x) = \sin(x^2)
\end{equation*}
It is a composite function
\begin{gather*}
    g(x) = \sin(x) \\
    h(x) = x^2 \\
    g(h(x)) = f(x) \\
    (g \circ h)(x) = f(x)
\end{gather*}
\subsection{The Chain Rule}
\begin{note}
    This is helpful in Calculus II
\end{note}
\begin{theorem}
    Suppose we have $f$ and $g$ are both differentiable then
    \begin{equation}
        \left(f \circ g\right)' = f'(g(x)) \cdot g'(x)
    \end{equation}
\end{theorem}
\begin{example}
    \begin{align*}
        f(x) &= \sin(x^2) \\
        f'(x) &= \cos(x^2) \cdot 2x
    \end{align*}
\end{example}
\begin{example}
    \begin{gather*}
        y = \tan^2(\theta) \\
        y = \left(\tan(\theta)\right)^2
    \end{gather*}
    \begin{align*}
        f(x)      &= x^2          & f'(x)      &= 2x \\
        g(\theta) &= \tan(\theta) & g'(\theta) &= \sec^2(\theta)
    \end{align*}
    \begin{equation*}
        y' = 2\left(\tan(\theta)\right) \cdot \sec^2(\theta)
    \end{equation*}
\end{example}
\begin{example}
    \begin{equation*}
        s(x) = \csc(\cos(x))
    \end{equation*}
    \begin{align*}
        f(x) &= \csc(x) & f'(x) &= -\csc(x)\cot(x) \\
        g(x) &= \cos(x) & g'(x) &= -\sin(x)
    \end{align*}
    \begin{gather*}
        s'(x) = -\csc(\cos(x))\cot(\cos(x)) \cdot -\sin(x) \\
        s'(x) = \sin(x)\csc(\cos(x))\cot(\cos(x))
    \end{gather*}
\end{example}
\begin{example}\hspace{\textwidth}\\
    \begin{enumerate}[a\symbol{41}] % \symbol is used rather than `)' so chktex does not freak out
        \item find y'
            \begin{equation*}
                y = \left(\dfrac{3x^2 + 1}{2x^2 - x}\right)^4
            \end{equation*}
            \begin{align*}
                f(x) &= x^4                        & f'(x) &= -\csc(x)\cot(x)\\
                g(x) &= \dfrac{3x^2 + 1}{2x^2 - x} & g'(x) &= \dfrac{-3x^2 - 4x + 1}{\left(2x^2 - x\right)^2}
            \end{align*}
            \begin{gather*}
                y' = 4\left(\dfrac{3x^2 + 1}{2x^2 - x}\right)^3\left(-\dfrac{3x^2 - 4x + 1}{\left(2x^2 - x\right)^2}\right) \\
                y' = \dfrac{-4 \left(3x^2 + 1\right)^3\left(3x^2 + 4x - 1\right)}{\left(2x^2 - x\right)^5}
            \end{gather*}
        \item Find where the curve has horizontal tangents. ($y' = 0$)
        \begin{gather*}
            \dfrac{-4 \left(3x^2 + 1\right)^3\left(3x^2 + 4x - 1\right)}{\left(2x^2 - x\right)^5} = 0 \\
            -4 \left(3x^2 + 1\right)^3\left(3x^2 + 4x - 1\right) = 0 \\
            \cancel{-4 = 0} \qquad \text{no solutions} \\
            3x^2 + 1 = 0 \qquad \text{no solutions} \\
            3x^2 + 4x - 1 = 0 \\
            x = \dfrac{-4 \pm \sqrt{16 -4\left(3\right)\left(-1\right)}}{2\left(3\right)} \\
            x = \dfrac{-4 \pm \sqrt{38}}{6}
        \end{gather*}
    \end{enumerate}
\end{example}
\begin{example}
    \begin{gather*}
        y = \left(x\right)\left(\sec(e^x)\right) \\
        y' = x \cdot \deriv \left(\sec(e^x)\right) + \deriv \left(x\right) \cdot \left(\sec(e^x)\right) \\
        y' = x \cdot \sec(e^x)\tan(e^x) \cdot \deriv\left(e^x\right) + \deriv \left(x\right) \cdot \left(\sec(e^x)\right) \\
        y' = x \cdot e^x \sec(e^x) \tan(e^x) + \deriv \left(x\right) \cdot \left(\sec(e^x)\right) \\
        y' = x \cdot e^x \sec(e^x) \tan(e^x) + 1 \cdot \left(\sec(e^x)\right) \\
        y' = \sec(e^x)\left(x e^x \tan(e^x) + 1\right)
    \end{gather*}
    \begin{note}
        Do you chain rule or product rule ``first''? It depends!
    \end{note}
\end{example}
\subsection{Constant to the Power of \texorpdfstring{$x$}{x} Rule}
We want to derive $y = 3^x$. \\
Start by writing $3^x$ in terms of $e^x$:
\begin{gather*}
    3^x = e^{\ln(3^x)} \\
    3^x = e^{x\ln(3)}
\end{gather*}
Use the chain rule:
\begin{align*}
    f(x) &= e^x     & f'(x) &= e^x \\
    g(x) &= x\ln(3) & g'(x) &= \ln(3)
\end{align*}
\begin{gather*}
    y' = e^{x\ln(3)} \cdot \ln(3) \\
    y' = 3^x \cdot \ln(3)
\end{gather*}
\begin{theorem}[Constant to the Power of $x$ Rule]
    If we assume that $a$ is constant where $a > 0$ and $a \neq 1$ then:
    \begin{equation}
        \deriv \left(a^x\right) = a^x \cdot \ln(a)
    \end{equation}
\end{theorem}
\begin{example}
    \begin{equation*}
        y = 2^{x^5}
    \end{equation*}
    \begin{align*}
        f(x) &= 2^x & f'(x) &= 2^x \cdot \ln(2) \\
        g(x) &= x^5 & g'(x) &= 5x^4
    \end{align*}
    \begin{gather*}
        y' = 2^{x^5} \ln(2) \cdot 5x^4 \\
        y' = 5 \cdot \ln(2) \cdot x^4 \cdot 2^{x^5}
    \end{gather*}
\end{example}
\begin{example}
    \begin{gather*}
        y = 3 \sec(2^x) \\
        y' = 3 \deriv \left(\sec(2^x)\right)
    \end{gather*}
    \begin{align*}
        f(x) &= \sec(x) & f'(x) &= \sec(x)\tan(x) \\
        g(x) &= 2^x     & g'(x) &= 2^x \cdot \ln(2)
    \end{align*}
    \begin{gather*}
        f'(x) = 3 \sec(2^x) \tan(2^x) \cdot 2^x \ln(2) \\
        f'(x) = \left(3 \ln(2)\right)2^x \sec(2^x) \tan(2^x)
    \end{gather*}
\end{example}
