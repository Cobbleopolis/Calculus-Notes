% !TEX root = ../main.tex

\section{Derivatives of Logarithmic Functions}
\subsection{Derivatives of Logarithmic Functions}
\begin{theorem}[Derivatives of Logarithmic Functions]
    If we recall that $\log_a(x) = y$, then $a^y = x$ as well as $\deriv\left(a^x\right) = a^x \ln(a)$ then the following must be true:
    \begin{equation}
        \deriv \left(\log_a(x)\right) = \dfrac{1}{x\ln(a)}
    \end{equation}
\end{theorem}
\begin{proof}
    \begin{align*}
        \log_a(x) &= y \\
        a^y &= x \\
        \deriv \left(a^y\right)    &= \deriv \left(x\right)\\
        a^y \ln(a) \cdot \deriv[y] &= 1 \\
        \deriv[y]                  &= \dfrac{1}{a^y \ln(a)} \\
        \intertext{This is fine but we don't want $y$ in our answer.}
        \deriv[y]                  &= \dfrac{1}{x \ln(a)} \\
        \intertext{This is valid because we know that $a^y = x$}
    \end{align*}
\end{proof}
\begin{theorem}[Derivatives of Natrual Log]
    Similar to the derivative of a $\log$ function the derivative of $\ln$ is:
    \begin{equation}
        \deriv\left(\ln(x)\right) = \dfrac{1}{x}
    \end{equation}
\end{theorem}
\begin{proof}
    \begin{align*}
        \deriv\left(\ln(x)\right) &= \deriv \left(\log_e(x)\right) \\
                                  &= \dfrac{1}{x\ln(e)} \\
                                  &= \dfrac{1}{x}
    \end{align*}
    \begin{note}
        The power rule will never give an exponent of $-1$, since $n = 0$ would mean that it's a constant.
    \end{note}
\end{proof}
\begin{example}
    Differentiate: $f(x) = \dfrac{x}{\ln(x)}$
    \begin{align*}
        f'(x) &= \dfrac{\left(\ln(x)\right)\deriv\left(x\right) - \left(x\right)\deriv\left(\ln(x)\right)}{\left(\ln(x)\right)^2} \\
              &= \dfrac{\left(\ln(x)\right)\left(1\right) - \left(x\right)\left(\dfrac{1}{x}\right)}{\left(\ln(x)\right)^2} \\
              &= \dfrac{\ln(x) - 1}{\left(\ln(x)\right)^2} \\
              &= \dfrac{\ln(x)}{\left(\ln(x)\right)^2} - \dfrac{1}{\left(\ln(x)\right)^2} \tag{Optional} \\
              &= \dfrac{1}{\ln(x)} - \dfrac{1}{\left(\ln(x)\right)^2} \tag{Optional}
    \end{align*}
\end{example}
\begin{example}
    Differentiate $y = \left|x\right|$
    \begin{equation*}
        y = \begin{cases}
            \ln(x) & x > 0 \\
            \ln(-x) & x < 0
        \end{cases}
    \end{equation*}
    \begin{note}
        Domain is all real number except 0
    \end{note}
    \begin{align*}
        x  &> 0:           & x  &< 0: \\
        y  &= \ln(x)       & y  &= \ln(-x) \\
        y' &= \dfrac{1}{x} & y' &= \dfrac{1}{-x} \cdot \deriv \left(-x\right) \\
           &               & y' &= \dfrac{1}{-x} \left(-1\right) \\
           &               & y' &= \dfrac{1}{x}
    \end{align*}
    Conclusion: because $y'$ was the same in both cases then the following must be true:
    \begin{equation*}
        \deriv\left(\ln(\left|x\right|)\right) = \dfrac{1}{x}
    \end{equation*}
\end{example}
\begin{example}
    Use implicit differentiation to find $\deriv[y]$
    \begin{equation*}
        \ln\left(x^2 - y^2\right) = x - y
    \end{equation*}
    \begin{gather*}
        \deriv\left(\ln\left(x^2 - y^2\right)\right) = \deriv\left(x - y\right) \\
        \dfrac{1}{x^2 - y^2} \cdot \left(2x - 2y \deriv[y]\right) = 1 - \deriv[y] \\
        \dfrac{2x - 2y \deriv[y]}{x^2 - y^2} = 1 - \deriv[y] \\
        2x - 2y \deriv[y] = \left(1 - \deriv[y]\right)\left(x^2 - y^2\right) \\
        2x - 2y \deriv[y] = x^2 - y^2 - x^2\deriv[y] + y^2\deriv[y] \\
        -2y \deriv[y] + x^2\deriv[y] - y^2\deriv[y] = x^2 - y^2 - 2x \\
        \deriv[y]\left(-2y + x^2 - y^2\right) = x^2 - y^2 - 2x \\
        \deriv[y] = \dfrac{x^2 - y^2 -2x}{-2y + x^2 - y^2}
    \end{gather*}
    It is OK to leave a mix of $x$s and $y$s, because we can't write $y = \left(x \text{ stuff}\right)$
\end{example}
\subsection{Logarithmic Differentiation}
\subsubsection{Remember that question from the review?}
\begin{equation*}
    y = \left(\dfrac{x^4 \sin^2(x)}{\sqrt{1 - x^2}}\right)
\end{equation*}
Yeah that one. To derive this one normally would be a lot of chain, quotient, and power rules. However an esier way of taking the derivative by taking the natural log of both sides, then implicit derive of both sides and solve for $\deriv[y]$. This process is known as ``logarithmic differentiation''.
\begin{example}
    \begin{align*}
        y &= \left(\dfrac{x^4 \sin^2(x)}{\sqrt{1 - x^2}}\right) \\
        \ln(y) &= \ln\left(\dfrac{x^4 \sin^2(x)}{\left(1 - x^2\right)^{\frac{1}{2}}}\right) \\
        \ln(y) &= \ln\left(x^4 \left(\sin^2(x)\right)\right) - \ln\left(1 - x^2\right)^{\frac{1}{2}} \\
        \ln(y) &= \ln\left(x^4\right) + \ln\left(\sin(x)\right)^2 - \dfrac{1}{2}\ln\left(1 - x^2\right) \\
        \ln(y) &= 4\ln\left(x\right) + 2\ln\left(\sin(x)\right) - \dfrac{1}{2}\ln\left(1 - x^2\right) \\
        \dfrac{1}{y} \cdot \deriv[y] &= 4 \cdot \dfrac{1}{x} + 2 \dfrac{1}{\sin(x)} \cos(x) - \dfrac{1}{\cancel{2}} \cdot \dfrac{1}{1 - x^2} \cdot \cancel{2}x \\
        \deriv[y] &= y \left(\dfrac{4}{x} + 2\cot(x) - \dfrac{x}{1 - x^2}\right) \\
        \deriv[y] &= \dfrac{x^4 \sin^2(x)}{\sqrt{1 - x^2}} \left(\dfrac{4}{x} + 2\cot(x) - \dfrac{x}{1 - x^2}\right) \tag{Substitue the original function back in for $y$}
    \end{align*}
\end{example}
\subsubsection{Another use of logarithmic differentiation}
Suppose we to find $\deriv\left(x^x\right)$
\begin{itemize}
    \item We can't use the fact that $\deriv\left(a^x\right) = a^x \ln(a)$, since the base is not a constant.
    \item We can't use the fact that $\deriv\left(x^r\right) = rx^{r - 1}$, since the exponent is not a constant.
\end{itemize}
Here is how we solve it:
\begin{gather*}
    y = x^x \\
    \ln(y) = \ln\left(x^x\right) \\
    \ln(y) = x\ln(x) \\
    \deriv\left(\ln(y)\right) = \deriv\left(x\ln(x)\right) \\
    \dfrac{1}{y} \cdot \deriv[y] = x \cdot \dfrac{1}{x} + 1 \cdot \ln(x) \\
    \dfrac{1}{y} \cdot \deriv[y] = 1 + \ln(x) \\
    \deriv[y] = y\left(1 + \ln(x)\right) \\
    \deriv[y] = x^x\left(1 + \ln(x)\right)
\end{gather*}
\subsection{The Most Powerful Power Rule}
\begin{theorem}[The Most Powerful Power Rule]
    If $r$ is any real number, then:
    \begin{equation}
        \deriv\left(x^r\right) = rx^{r - 1}
    \end{equation}
\end{theorem}
\begin{proof}
    If $y = x^a$, find $\deriv[y]$
    \begin{gather*}
        \ln(y) = \ln(x^a) \\
        \ln(y) = a\ln(x) \\
        \dfrac{1}{y} \cdot \deriv[y] = a \cdot \dfrac{1}{x} \\
        \deriv[y] = y\left(a \cdot \dfrac{1}{x}\right) \\
        \deriv[y] = x^a \left(a \cdot \dfrac{1}{x}\right) \\
        \deriv[y] = x^a \cdot a \cdot x^{-1} \\
        \deriv[y] = a x^{a - 1}
    \end{gather*}
\end{proof}
\begin{example}
    Find the equation for the line tangent to $y = \left(x^3 - x + 1\right)^e$ when $x = 1$.
    \begin{align*}
        y' &= e\left(x^3 - x + 1\right)^{e - 1}\left(3x^2 - 1\right) \\
        \Eval{y'}{x = 1} &= e\left(1^3 - 1 + 1\right)^{e - 1}\left(3 \cdot 1^2 - 1\right) \\
                                &= e\left(1\right)^{e - 1}\left(2\right) \\
                                &= 2e
    \end{align*}
    $2e$ is our slope. To find the point we can substitute $x = 1$ into the original function:
    \begin{align*}
        \Eval{y}{x = 1} &= \left(1^3 - 1 + 1\right)^e \\
                        &= 1^e \\
                        &= 1
    \end{align*}
    Point = $\left(1, 1\right)$\\
    Tangent line: $y - 1 = 2e\left(x - 1\right)$
\end{example}
